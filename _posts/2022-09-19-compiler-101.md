---
layout: post
title:  "Compiler101 - 0x00"
categories: knowledge
tags: compiler reverse
author: th3_5had0w
mathjax: true
---

* content
{:toc}

Tá»± tÃ¬m hiá»ƒu vá» compilers ğŸ›




# Compiler101 - 0x00

## KhÃ¡i quÃ¡t vá» compiler

### Compiler lÃ  cÃ¡i báº§u Ä‘uá»“i gÃ¬?

Khi ta láº­p trÃ¬nh sáº½ dÃ¹ng cÃ¡c ngÃ´n ngá»¯ nhÆ° C, C++, Javascript, Java, Python, Ruby,... ThÃ¬ compiler sáº½ Ä‘Ã³ng vai trÃ² nhÆ° phiÃªn dá»‹ch viÃªn, xá»­ lÃ½ source code thÃ nh machine code cho ra [executable](https://en.wikipedia.org/wiki/Executable) tÆ°Æ¡ng á»©ng.

![](/assets/compiler00.png)

### PhÃ¢n loáº¡i compiler

Compiler Ä‘Æ°á»£c phÃ¢n loáº¡i dá»±a trÃªn 2 yáº¿u tá»‘:

1. [Loáº¡i machine code Ä‘Æ°á»£c compiler generate ra](#cÃ¡c-loáº¡i-machine-code-Ä‘Æ°á»£c-generate-bá»Ÿi-compiler)

2. Format cá»§a target code (machine code, object code hoáº·c assembly language) mÃ  compiler generate ra

#### CÃ¡c loáº¡i machine code Ä‘Æ°á»£c generate bá»Ÿi compiler

Bao gá»“m:

* Pure machine code

NhÆ° tÃªn gá»i, loáº¡i machine code nÃ y Ä‘Æ°á»£c compiler generate ra chá»‰ bao gá»“m cÃ¡c instruction cá»§a má»™t instruction set nÃ o Ä‘Ã³ (Intelx86, ARM, MIPS,...) vÃ  khÃ´ng bá»‹ phá»¥ thuá»™c vÃ o cÃ¡c syscall cá»§a 1 Ä‘iá»u hÃ nh cá»¥ thá»ƒ hay cÃ¡c function, variable, macro implementation cá»§a thÆ° viá»‡n nÃ o.

* Augmented machine code

ÄÃ¢y lÃ  loáº¡i machine code mÃ  ta thÆ°á»ng tháº¥y. Compiler generate ra cÃ¡c machine code dá»±a trÃªn cÃ¡c syscall cá»§a há»‡ Ä‘iá»u hÃ nh, hay cÃ¡c library tá»« cÃ¡c runtime environment cá»§a cÃ¡c language, nÃªn cÃ¡c executable Ä‘Æ°á»£c táº¡o ra váº«n tá»“n táº¡i cÃ¡c giá»›i háº¡n vá» pháº¡m vi hoáº¡t Ä‘á»™ng nhÆ° khÃ¡c architecture, cÃ³ nghÄ©a lÃ  má»™t executable Ä‘Æ°á»£c compile trÃªn architect nÃ y sáº½ khÃ´ng cháº¡y Ä‘Æ°á»£c trÃªn má»™t architect khÃ¡c, . Äiá»ƒn hÃ¬nh cÃ³ thá»ƒ tháº¥y nhÆ° C, C++, Fortran.

* Virtual machine code

Virtual machine code Ä‘Æ°á»£c generate ra tá»« cÃ¡c virtual instruction, cÃ¡c virtual instruction nÃ y cáº§n Ä‘Æ°á»£c "dá»‹ch" thÃ´ng qua mÃ´i trÆ°á»ng VM Ä‘á»ƒ cÃ³ thá»ƒ cháº¡y Ä‘Æ°á»£c trÃªn thiáº¿t bá»‹ host. VÃ¬ váº­y má»™t táº­p cÃ¡c virtual instruction hay bytecode cá»§a má»™t ngÃ´n ngá»¯ cá»¥ thá»ƒ cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c thi trÃªn báº¥t cá»© loáº¡i thiáº¿t bá»‹ nÃ o cÃ³ mÃ´i trÆ°á»ng VM cá»§a ngÃ´n ngá»¯ Ä‘Ã³. Äiá»ƒn hÃ¬nh lÃ  ngÃ´n ngá»¯ Java vá»›i Java Virtual Machine hay Python vá»›i Python interpreter.